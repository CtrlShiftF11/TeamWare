<!-- Andy Sandefer -->
<!DOCTYPE html>
<html>
<%= include partials/navmenu %>
<head>
    <script src="../javascripts/coverflow.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../stylesheets/coverflow/coverflow.css"/>

    <style>
        .projectTile {
            width: 110px;
            height: 90px;
            border-style: solid;
            border-width: 1px;
            background: linear-gradient(#000000, gray);
            border-color: gray;
            border-radius: 6px;
            color: white;
            text-align: center;
        }

        .projectTileSelected {
            background: linear-gradient(#ffffff, gray);
            border-color: gray;
            border-radius: 6px;
            color: black;
            text-align: center;
        }

    </style>

    <script>
        $(document).ready(function () {
            $.getJSON('/projects')
                    .done(function (projectData) {
                        $.each(projectData, function (i, data) {
                            var projectId = 'project' + data["_id"];
                            var divString = "<div id='" + projectId + "' class='projectTile'>" + data["name"] + "</div>";
                            console.log(divString);
                            $("#coverflowCont").append(divString);
                        });
                        $("#coverflowCont").coverflow({
                            width: 500
                        });
                    });

            $("div").delegate('.projectTile', 'click', function (e) {
                $(".projectTileSelected").removeClass("projectTileSelected");
                $(this).addClass("projectTileSelected");
            });

        });

    </script>
</head>

<body>

<div class="panel panel-primary">
    <div class="panel-heading">Dashboard Filters</div>
    <div class="panel-body" style="height: 120px;">

        <div id="coverflowCont">
        </div>


    </div>
</div>


</body>
</html>
